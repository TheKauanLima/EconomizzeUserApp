@page "/usuario-endereco"
@inject IMapper Mapper
@inject NavigationManager NavigationManager
@inject IStreetDetailViewService UserAddressService

<h3 class="text-primary mb-4 text-center">Create User Address</h3>

<SearchZipCodeModule></SearchZipCodeModule>

@* <!-- Form to Add or Update Address -->
<div class="d-flex justify-content-center align-items-center mt-4">
    <div class="card p-4" style="width: 400px;">
        <EditForm Model="_streetDetailViewModel" OnValidSubmit="HandleCreateAddress">
            <DataAnnotationsValidator />
            <ValidationSummary class="alert alert-danger" />

            <!-- Zipcode (Moved to the top) -->
            <div class="form-group mb-3">
                <label for="zipcode" class="form-label">Zipcode</label>
                <InputText id="zipcode" @bind-Value="_streetDetailViewModel.Zipcode" class="form-control" placeholder="Enter Zipcode" />
            </div>

            <!-- Street Name -->
            <div class="form-group mb-3">
                <label for="streetName" class="form-label">Street Name</label>
                <InputText id="streetName" @bind-Value="_streetDetailViewModel.StreetName" class="form-control" placeholder="Enter Street Name" />
            </div>

            <!-- Neighborhood Name -->
            <div class="form-group mb-3">
                <label for="neighborhoodName" class="form-label">Neighborhood</label>
                <InputText id="neighborhoodName" @bind-Value="_streetDetailViewModel.NeighborhoodName" class="form-control" placeholder="Enter Neighborhood" />
            </div>

            <!-- City Name -->
            <div class="form-group mb-3">
                <label for="cityName" class="form-label">City</label>
                <InputText id="cityName" @bind-Value="_streetDetailViewModel.CityName" class="form-control" placeholder="Enter City" />
            </div>

            <!-- State Name -->
            <div class="form-group mb-3">
                <label for="stateName" class="form-label">State</label>
                <InputText id="stateName" @bind-Value="_streetDetailViewModel.StateName" class="form-control" placeholder="Enter State" />
            </div>

            <!-- Hidden Fields -->
            <InputNumber hidden id="streetId" @bind-Value="_streetDetailViewModel.StreetId" />
            <InputNumber hidden id="neighborhoodId" @bind-Value="_streetDetailViewModel.NeighborhoodId" />
            <InputText hidden id="streetNameAscii" @bind-Value="_streetDetailViewModel.StreetNameAscii" />

            <button type="submit" class="btn btn-primary mt-3 w-100">Create Address</button>
        </EditForm>
    </div>
</div>

@if (_streetDetailView != null)
{
    <h3 class="mt-5 text-center">Created Address</h3>
    <div class="card p-3 mx-auto" style="width: 400px;">
        <p><strong>Street Name:</strong> @_streetDetailView.StreetName</p>
        <p><strong>Neighborhood:</strong> @_streetDetailView.NeighborhoodName</p>
        <p><strong>City:</strong> @_streetDetailView.CityName</p>
        <p><strong>State:</strong> @_streetDetailView.StateName</p>
        <p><strong>Zipcode:</strong> @_streetDetailView.Zipcode</p>
    </div>
} *@


